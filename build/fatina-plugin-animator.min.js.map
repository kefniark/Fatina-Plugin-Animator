{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6","webpack:///fatina-plugin-animator.min.js","webpack:///webpack/bootstrap 4be9c7b6cdcf54a29c37?8434","webpack:///./src/index.ts?eac3","webpack:///./src/manager/animatorManager.ts?fc6e","webpack:///./src/animator/animator.ts?3fe3","webpack:///./src/manager/tickerManager.ts?a6d7"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","Get","FatinaPluginAnimator","value","animatorManager_1","tickerManager_1","init","fatina","plugin","TickerManager","AnimatorManager","Init","Error","undefined","animator_1","animations","tickerMap","keys","_this","map","x","filter","piece","index","self","indexOf","Register","onCreate","label","Instantiate","params","tween","SetParent","AddAnimatorTo","obj","Animator","animatorManager","current","layers","animGroupMap","animTransitionMap","animFinalValueMap","animUnstoppableMap","currentAnimName","AddAnimation","animationName","options","anim","AddCustomAnimation","AddTransition","name1","name2","OnKilled","Recycle","OnComplete","Play","finalValue","unstoppable","group","push","layerName","IsRunning","console","log","IsPaused","Skip","Start","Pause","layer","PauseAll","_i","_a","length","layerId","Resume","ResumeAll","Stop","IsFinished","StopAll","Destroy","Kill","tickers","Ticker","KillAll"],"mappings":"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","file":"fatina-plugin-animator.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"FatinaPluginAnimator\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"FatinaPluginAnimator\"] = factory();\n\telse\n\t\troot[\"FatinaPluginAnimator\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"FatinaPluginAnimator\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"FatinaPluginAnimator\"] = factory();\n\telse\n\t\troot[\"FatinaPluginAnimator\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar animatorManager_1 = __webpack_require__(1);\r\nvar tickerManager_1 = __webpack_require__(3);\r\nfunction Get() {\r\n    return new FatinaPluginAnimator();\r\n}\r\nexports.Get = Get;\r\nvar FatinaPluginAnimator = (function () {\r\n    function FatinaPluginAnimator() {\r\n        this.name = 'fatina-plugin-animator';\r\n        this.init = false;\r\n    }\r\n    Object.defineProperty(FatinaPluginAnimator.prototype, \"TickerManager\", {\r\n        get: function () {\r\n            return this.fatina.plugin.TickerManager;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FatinaPluginAnimator.prototype, \"AnimatorManager\", {\r\n        get: function () {\r\n            return this.fatina.plugin.AnimatorManager;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    FatinaPluginAnimator.prototype.Init = function (fatina) {\r\n        if (this.init) {\r\n            throw new Error('Try to init the plugin twice : ' + name);\r\n        }\r\n        if (fatina === undefined || fatina === null || fatina.plugin === null) {\r\n            throw new Error('Try to init the plugin without fatina : ' + name);\r\n        }\r\n        this.fatina = fatina;\r\n        this.init = true;\r\n        fatina.plugin.AnimatorManager = new animatorManager_1.AnimatorManager(this);\r\n        fatina.plugin.TickerManager = new tickerManager_1.TickerManager(this);\r\n    };\r\n    return FatinaPluginAnimator;\r\n}());\r\nexports.FatinaPluginAnimator = FatinaPluginAnimator;\r\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar animator_1 = __webpack_require__(2);\r\nvar AnimatorManager = (function () {\r\n    function AnimatorManager(plugin) {\r\n        this.animations = {};\r\n        this.tickerMap = {};\r\n        this.plugin = plugin;\r\n    }\r\n    Object.defineProperty(AnimatorManager.prototype, \"Animations\", {\r\n        get: function () {\r\n            return Object.keys(this.animations);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AnimatorManager.prototype, \"Labels\", {\r\n        get: function () {\r\n            var _this = this;\r\n            return Object.keys(this.tickerMap).map(function (x) { return _this.tickerMap[x]; }).filter(function (piece, index, self) { return self.indexOf(piece) === index; });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    AnimatorManager.prototype.Register = function (name, onCreate, label) {\r\n        if (this.animations[name] && this.tickerMap[name]) {\r\n            delete this.tickerMap[name];\r\n        }\r\n        this.animations[name] = onCreate;\r\n        if (label) {\r\n            this.tickerMap[name] = label;\r\n        }\r\n        return this;\r\n    };\r\n    AnimatorManager.prototype.Instantiate = function (name, object, params) {\r\n        if (!(name in this.animations)) {\r\n            throw new Error('this animation doesnt exist ' + name);\r\n        }\r\n        var tween = this.animations[name](object, params);\r\n        if (this.tickerMap[name]) {\r\n            tween.SetParent(this.plugin.TickerManager.Get(this.tickerMap[name]));\r\n        }\r\n        return tween;\r\n    };\r\n    AnimatorManager.prototype.AddAnimatorTo = function (obj) {\r\n        if (!obj.Animator) {\r\n            obj.Animator = new animator_1.Animator(obj, this);\r\n        }\r\n        return obj.Animator;\r\n    };\r\n    return AnimatorManager;\r\n}());\r\nexports.AnimatorManager = AnimatorManager;\r\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Animator = (function () {\r\n    function Animator(obj, animatorManager) {\r\n        this.animations = {};\r\n        this.current = {};\r\n        this.layers = ['default'];\r\n        this.animGroupMap = {};\r\n        this.animTransitionMap = {};\r\n        this.animFinalValueMap = {};\r\n        this.animUnstoppableMap = {};\r\n        this.currentAnimName = {};\r\n        this.object = obj;\r\n        this.animatorManager = animatorManager;\r\n    }\r\n    Animator.prototype.AddAnimation = function (name, animationName, options, params) {\r\n        var anim = this.animatorManager.Instantiate(animationName, this.object, params);\r\n        return this.AddCustomAnimation(name, options || {}, anim);\r\n    };\r\n    Animator.prototype.AddTransition = function (name1, name2) {\r\n        if (!(name1 in this.animations)) {\r\n            throw new Error('this animation doesnt exist ' + name1);\r\n        }\r\n        if (!(name2 in this.animations)) {\r\n            throw new Error('this animation doesnt exist ' + name2);\r\n        }\r\n        this.animTransitionMap[name1] = name2;\r\n        return this;\r\n    };\r\n    Animator.prototype.AddCustomAnimation = function (name, options, tween) {\r\n        var _this = this;\r\n        var anim = tween;\r\n        anim.OnKilled(function () { return anim.Recycle(); });\r\n        anim.OnComplete(function () {\r\n            anim.Recycle();\r\n            if (name in _this.animTransitionMap) {\r\n                _this.Play(_this.animTransitionMap[name]);\r\n            }\r\n        });\r\n        this.animations[name] = anim;\r\n        this.animFinalValueMap[name] = options ? !!options.finalValue : false;\r\n        this.animUnstoppableMap[name] = options ? !!options.unstoppable : false;\r\n        this.animGroupMap[name] = (options && options.group) ? options.group : 'default';\r\n        if (this.layers.indexOf(this.animGroupMap[name]) === -1) {\r\n            this.layers.push(this.animGroupMap[name]);\r\n        }\r\n        return this;\r\n    };\r\n    Animator.prototype.Play = function (name) {\r\n        if (!(name in this.animations)) {\r\n            throw new Error('this animation doesnt exist ' + name);\r\n        }\r\n        var layerName = this.animGroupMap[name];\r\n        var current = this.current[layerName];\r\n        if (current && current.IsRunning() && this.animUnstoppableMap[this.currentAnimName[layerName]]) {\r\n            console.log('This animation already run and is unstoppable', this.currentAnimName[layerName], '->', name);\r\n            return current;\r\n        }\r\n        if (current && (current.IsRunning() || current.IsPaused())) {\r\n            var currentAnimName = this.currentAnimName[layerName];\r\n            current.Skip(this.animFinalValueMap[currentAnimName]);\r\n            this.current[layerName] = undefined;\r\n        }\r\n        current = this.animations[name];\r\n        this.current[layerName] = current;\r\n        this.currentAnimName[layerName] = name;\r\n        current.Start();\r\n        return current;\r\n    };\r\n    Animator.prototype.Pause = function (layer) {\r\n        var layerName = !layer ? 'default' : layer;\r\n        var current = this.current[layerName];\r\n        if (current && current.IsRunning()) {\r\n            current.Pause();\r\n        }\r\n    };\r\n    Animator.prototype.PauseAll = function () {\r\n        for (var _i = 0, _a = this.layers; _i < _a.length; _i++) {\r\n            var layerId = _a[_i];\r\n            this.Pause(layerId);\r\n        }\r\n    };\r\n    Animator.prototype.Resume = function (layer) {\r\n        var layerName = !layer ? 'default' : layer;\r\n        var current = this.current[layerName];\r\n        if (current && current.IsPaused()) {\r\n            current.Resume();\r\n        }\r\n    };\r\n    Animator.prototype.ResumeAll = function () {\r\n        for (var _i = 0, _a = this.layers; _i < _a.length; _i++) {\r\n            var layerId = _a[_i];\r\n            this.Resume(layerId);\r\n        }\r\n    };\r\n    Animator.prototype.Stop = function (layer) {\r\n        var layerName = !layer ? 'default' : layer;\r\n        var current = this.current[layerName];\r\n        if (current && !current.IsFinished()) {\r\n            var currentAnimName = this.currentAnimName[layerName];\r\n            current.Skip(this.animFinalValueMap[currentAnimName]);\r\n            this.current[layerName] = undefined;\r\n        }\r\n    };\r\n    Animator.prototype.StopAll = function () {\r\n        for (var _i = 0, _a = this.layers; _i < _a.length; _i++) {\r\n            var layerId = _a[_i];\r\n            this.Stop(layerId);\r\n        }\r\n    };\r\n    Animator.prototype.Destroy = function () {\r\n        for (var _i = 0, _a = this.layers; _i < _a.length; _i++) {\r\n            var layerId = _a[_i];\r\n            var current = this.current[layerId];\r\n            if (current && !current.IsFinished()) {\r\n                current.Kill();\r\n            }\r\n        }\r\n        this.animations = {};\r\n        this.animGroupMap = {};\r\n        this.animFinalValueMap = {};\r\n        this.animUnstoppableMap = {};\r\n        this.current = {};\r\n        this.currentAnimName = {};\r\n        delete this.object.Animator;\r\n    };\r\n    return Animator;\r\n}());\r\nexports.Animator = Animator;\r\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar TickerManager = (function () {\r\n    function TickerManager(plugin) {\r\n        this.tickers = {};\r\n        this.plugin = plugin;\r\n    }\r\n    TickerManager.prototype.Get = function (name) {\r\n        if (this.tickers[name]) {\r\n            return this.tickers[name];\r\n        }\r\n        this.tickers[name] = this.plugin.fatina.Ticker();\r\n        return this.tickers[name];\r\n    };\r\n    TickerManager.prototype.PauseAll = function (name) {\r\n        if (this.tickers[name]) {\r\n            this.tickers[name].Pause();\r\n        }\r\n    };\r\n    TickerManager.prototype.ResumeAll = function (name) {\r\n        if (this.tickers[name]) {\r\n            this.tickers[name].Resume();\r\n        }\r\n    };\r\n    TickerManager.prototype.KillAll = function (name) {\r\n        if (this.tickers[name]) {\r\n            this.tickers[name].Kill();\r\n            delete this.tickers[name];\r\n        }\r\n    };\r\n    return TickerManager;\r\n}());\r\nexports.TickerManager = TickerManager;\r\n\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// fatina-plugin-animator.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 4be9c7b6cdcf54a29c37","import { IPlugin } from 'fatina';\nimport { AnimatorManager } from './manager/animatorManager';\nimport { TickerManager } from './manager/tickerManager';\n\nexport function Get(): IPlugin {\n\treturn new FatinaPluginAnimator();\n}\n\nexport interface IPluginAnimator {\n\tAnimatorManager: AnimatorManager;\n\tTickerManager: TickerManager;\n}\n\nexport class FatinaPluginAnimator implements IPlugin {\n\tpublic readonly name = 'fatina-plugin-animator';\n\tpublic fatina: any;\n\tprivate init = false;\n\n\tpublic get TickerManager() {\n\t\treturn this.fatina.plugin.TickerManager;\n\t}\n\n\tpublic get AnimatorManager() {\n\t\treturn this.fatina.plugin.AnimatorManager;\n\t}\n\n\tpublic Init(fatina: any) {\n\t\tif (this.init) {\n\t\t\tthrow new Error('Try to init the plugin twice : ' + name);\n\t\t}\n\n\t\tif (fatina === undefined || fatina === null || fatina.plugin === null) {\n\t\t\tthrow new Error('Try to init the plugin without fatina : ' + name);\n\t\t}\n\n\t\tthis.fatina = fatina;\n\t\tthis.init = true;\n\t\tfatina.plugin.AnimatorManager = new AnimatorManager(this);\n\t\tfatina.plugin.TickerManager = new TickerManager(this);\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.ts","import { IControl} from 'fatina';\nimport { Animator } from '../animator/animator';\nimport { FatinaPluginAnimator } from '../index';\n\nexport class AnimatorManager {\n\tprivate plugin: FatinaPluginAnimator;\n\tprivate animations: { [id: string]: (object: any, params?: any) => IControl; } = {};\n\tprivate tickerMap: { [id: string]: string; } = {};\n\n\tpublic get Animations(): string[] {\n\t\treturn Object.keys(this.animations);\n\t}\n\n\tpublic get Labels(): string[] {\n\t\treturn Object.keys(this.tickerMap).map((x: string) => this.tickerMap[x]).filter((piece, index, self) => self.indexOf(piece) === index);\n\t}\n\n\tconstructor(plugin: FatinaPluginAnimator) {\n\t\tthis.plugin = plugin;\n\t}\n\n\tpublic Register(name: string, onCreate: (object: any, params?: any) => IControl, label?: string): AnimatorManager {\n\t\tif (this.animations[name] && this.tickerMap[name]) {\n\t\t\tdelete this.tickerMap[name];\n\t\t}\n\t\tthis.animations[name] = onCreate;\n\t\tif (label) {\n\t\t\tthis.tickerMap[name] = label;\n\t\t}\n\t\treturn this;\n\t}\n\n\tpublic Instantiate(name: string, object: any, params?: any): IControl {\n\t\tif (!(name in this.animations)) {\n\t\t\tthrow new Error('this animation doesnt exist ' + name);\n\t\t}\n\n\t\tconst tween = this.animations[name](object, params);\n\t\tif (this.tickerMap[name]) {\n\t\t\t(tween as any).SetParent(this.plugin.TickerManager.Get(this.tickerMap[name]));\n\t\t}\n\n\t\treturn tween;\n\t}\n\n\tpublic AddAnimatorTo(obj: any): Animator {\n\t\tif (!obj.Animator) {\n\t\t\tobj.Animator = new Animator(obj, this);\n\t\t}\n\t\treturn obj.Animator;\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/manager/animatorManager.ts","import { IControl} from 'fatina';\nimport { AnimatorManager } from '../manager/animatorManager';\n\nexport interface IAnimationParams {\n\tgroup?: string;\n\tunstoppable?: boolean;\n\tfinalValue?: boolean;\n}\n\n/**\n * Animator component applied on a object.\n * This store a list of animations and manage them for that object\n *\n * @export\n * @class Animator\n */\nexport class Animator {\n\tpublic animations: { [id: string]: IControl; } = {};\n\tpublic current: { [id: string]: IControl | undefined } = {};\n\tpublic layers = ['default'];\n\n\tprivate object: any;\n\tprivate animatorManager: AnimatorManager;\n\tprivate animGroupMap: { [id: string]: string } = {};\n\tprivate animTransitionMap: { [id: string]: string } = {};\n\tprivate animFinalValueMap: { [id: string]: boolean } = {};\n\tprivate animUnstoppableMap: { [id: string]: boolean } = {};\n\tprivate currentAnimName: { [id: string]: string } = {};\n\n\tconstructor(obj: any, animatorManager: AnimatorManager) {\n\t\tthis.object = obj;\n\t\tthis.animatorManager = animatorManager;\n\t}\n\n\tpublic AddAnimation(name: string, animationName: string, options?: IAnimationParams | any, params?: any): Animator {\n\t\tconst anim: any = this.animatorManager.Instantiate(animationName, this.object, params);\n\t\treturn this.AddCustomAnimation(name, options || {}, anim);\n\t}\n\n\tpublic AddTransition(name1: string, name2: string): Animator {\n\t\tif (!(name1 in this.animations)) {\n\t\t\tthrow new Error('this animation doesnt exist ' + name1);\n\t\t}\n\t\tif (!(name2 in this.animations)) {\n\t\t\tthrow new Error('this animation doesnt exist ' + name2);\n\t\t}\n\t\tthis.animTransitionMap[name1] = name2;\n\t\treturn this;\n\t}\n\n\tpublic AddCustomAnimation(name: string, options: IAnimationParams | any, tween: IControl): Animator {\n\t\tconst anim: any = tween;\n\t\tanim.OnKilled(() => anim.Recycle());\n\t\tanim.OnComplete(() => {\n\t\t\tanim.Recycle();\n\t\t\tif (name in this.animTransitionMap) {\n\t\t\t\tthis.Play(this.animTransitionMap[name]);\n\t\t\t}\n\t\t});\n\n\t\tthis.animations[name] = anim;\n\t\tthis.animFinalValueMap[name] = options ? !!options.finalValue : false;\n\t\tthis.animUnstoppableMap[name] = options ? !!options.unstoppable : false;\n\t\tthis.animGroupMap[name] = (options && options.group) ? options.group : 'default';\n\t\tif (this.layers.indexOf(this.animGroupMap[name]) === -1) {\n\t\t\tthis.layers.push(this.animGroupMap[name]);\n\t\t}\n\t\treturn this;\n\t}\n\n\tpublic Play(name: string): IControl {\n\t\tif (!(name in this.animations)) {\n\t\t\tthrow new Error('this animation doesnt exist ' + name);\n\t\t}\n\n\t\tconst layerName = this.animGroupMap[name];\n\t\tlet current = this.current[layerName];\n\n\t\t// Block any unstoppable running anim\n\t\tif (current && current.IsRunning() && this.animUnstoppableMap[this.currentAnimName[layerName]]) {\n\t\t\tconsole.log('This animation already run and is unstoppable', this.currentAnimName[layerName], '->', name);\n\t\t\treturn current;\n\t\t}\n\n\t\t// Stop any previous animation on this layer\n\t\tif (current && (current.IsRunning() || current.IsPaused())) {\n\t\t\tconst currentAnimName = this.currentAnimName[layerName];\n\t\t\t(current as any).Skip(this.animFinalValueMap[currentAnimName]);\n\t\t\tthis.current[layerName] = undefined;\n\t\t}\n\n\t\t// Start the right animation\n\t\tcurrent = this.animations[name];\n\t\tthis.current[layerName] = current;\n\t\tthis.currentAnimName[layerName] = name;\n\t\tcurrent.Start();\n\t\treturn current;\n\t}\n\n\tpublic Pause(layer?: string): void {\n\t\tconst layerName = !layer ? 'default' : layer;\n\t\tconst current = this.current[layerName];\n\t\tif (current && current.IsRunning()) {\n\t\t\tcurrent.Pause();\n\t\t}\n\t}\n\n\tpublic PauseAll() {\n\t\tfor (const layerId of this.layers) {\n\t\t\tthis.Pause(layerId);\n\t\t}\n\t}\n\n\tpublic Resume(layer?: string): void {\n\t\tconst layerName = !layer ? 'default' : layer;\n\t\tconst current = this.current[layerName];\n\t\tif (current && current.IsPaused()) {\n\t\t\tcurrent.Resume();\n\t\t}\n\t}\n\n\tpublic ResumeAll() {\n\t\tfor (const layerId of this.layers) {\n\t\t\tthis.Resume(layerId);\n\t\t}\n\t}\n\n\tpublic Stop(layer?: string): void {\n\t\tconst layerName = !layer ? 'default' : layer;\n\t\tconst current = this.current[layerName];\n\t\tif (current && !current.IsFinished()) {\n\t\t\tconst currentAnimName = this.currentAnimName[layerName];\n\t\t\t(current as any).Skip(this.animFinalValueMap[currentAnimName]);\n\t\t\tthis.current[layerName] = undefined;\n\t\t}\n\t}\n\n\tpublic StopAll() {\n\t\tfor (const layerId of this.layers) {\n\t\t\tthis.Stop(layerId);\n\t\t}\n\t}\n\n\tpublic Destroy() {\n\t\tfor (const layerId of this.layers) {\n\t\t\tconst current = this.current[layerId];\n\t\t\tif (current && !current.IsFinished()) {\n\t\t\t\tcurrent.Kill();\n\t\t\t}\n\t\t}\n\n\t\tthis.animations = {};\n\t\tthis.animGroupMap = {};\n\t\tthis.animFinalValueMap = {};\n\t\tthis.animUnstoppableMap = {};\n\t\tthis.current = {};\n\t\tthis.currentAnimName = {};\n\t\tdelete this.object.Animator;\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/animator/animator.ts","import { ITicker } from 'fatina';\nimport { IPluginAnimator } from '../index';\n\nexport class TickerManager {\n\tprivate plugin: IPluginAnimator;\n\tprivate tickers: { [id: string]: ITicker } = {};\n\n\tconstructor(plugin: IPluginAnimator) {\n\t\tthis.plugin = plugin;\n\t}\n\n\tpublic Get(name: string): ITicker {\n\t\tif (this.tickers[name]) {\n\t\t\treturn this.tickers[name];\n\t\t}\n\n\t\tthis.tickers[name] = (this.plugin as any).fatina.Ticker();\n\t\treturn this.tickers[name]\n\t}\n\n\tpublic PauseAll(name: string): void {\n\t\tif (this.tickers[name]) {\n\t\t\tthis.tickers[name].Pause();\n\t\t}\n\t}\n\n\tpublic ResumeAll(name: string): void {\n\t\tif (this.tickers[name]) {\n\t\t\tthis.tickers[name].Resume();\n\t\t}\n\t}\n\n\tpublic KillAll(name: string): void {\n\t\tif (this.tickers[name]) {\n\t\t\tthis.tickers[name].Kill();\n\t\t\tdelete this.tickers[name];\n\t\t}\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/manager/tickerManager.ts"],"sourceRoot":""}